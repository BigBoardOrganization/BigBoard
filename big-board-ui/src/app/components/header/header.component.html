<header class="header">
  <div class="container">
    <div class="header-content">
      <h1 class="title" (click)="openMain()">BigBoard</h1>

      <ng-container *ngIf="$currentUser | async; else emptyUser">
        <h4 class="user">
          {{($currentUser | async)?.username}}
          <mat-icon>person</mat-icon>
        </h4>

        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Menu">
          <mat-icon class="menu-icon">menu</mat-icon>
        </button>

        <mat-menu #menu="matMenu">
          <ng-container *ngFor="let o of options">
            <button mat-menu-item (click)="o.action()">
              <mat-icon>{{ o.icon }}</mat-icon>
              <span>{{ o.title }}</span>
            </button>
          </ng-container>
        </mat-menu>
      </ng-container>

      <ng-template #emptyUser>
        <button class="login-btn" (click)="goToLogin()" mat-stroked-button>Login</button>
      </ng-template>
    </div>
  </div>
</header>
